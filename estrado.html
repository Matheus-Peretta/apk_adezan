<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cálculo Produtividade</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="img/cronometro2.png" type="image/x-icon">
  </head>
  <body>
    <!-- INÍCIO PRINCIPAL -->
    <div class="container" style="background-color: rgb(175, 203, 175); padding: 15px; border-radius: 5px;">
        <nav class="navbar bg-body-tertiary" style="margin: -15px -15px 10px -15px;">
            <div class="container-fluid">
                <img src="img/logo.png" alt="Logo" width="150" height="150" class="d-inline-block align-text-top">
                <h1 style="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.482);">Cálculo Produtividade</h1>
            </div>
        </nav>
        <div class="cabeca">
          <a href="index.html"><img src="img/botao-voltar2.png" alt="Botão Voltar" id="botaovoltar"></a>
          <h2 id="titulocabeca">Estrado</h2>
        </div>
        <!-- INÍCIO PÉZINHO -->
        <div class="row">
          <div class="col">
            <div class="form-check" style="margin-top: 30px;">
              <input class="form-check-input" type="radio" name="flexRadioDefault" id="skid">
              <label class="form-check-label" for="skid">
                Pézinho com Squid
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefault" id="semskid">
              <label class="form-check-label" for="semskid">
                Pézinho sem Squid
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefault" id="naopezinho" >
              <label class="form-check-label" for="naopezinho">
                Não contém Pézinho
              </label>
            </div>
          </div>
          <div class="col">
            <div class="col-auto">
              <label for="qtdpezinho" class="col-form-label">Pézinho</label>
            </div>
            <div class="col-auto">
              <input type="number" id="qtdpezinho" class="form-control" aria-describedby="passwordHelpInline" required min="0" placeholder="Quantidade de Pézinho">
            </div>
            <div class="col-auto">
              <span id="passwordHelpInline" class="form-text">
                Quantos Pézinhos tem?
              </span>
            </div>
          </div>
        </div>
        <hr>
        <!-- FIM PÉZINHO -->
        <!-- INÍCIO ASSOALHO -->
        <div class="row" style="margin-top: 10px;">
          <div class="col">
            <div class="form-check" style="margin-top: 10px;">
              <label style="display: block; margin-top: 0px;">Contém emenda no assoalho? </label>
              <input class="form-check-input" type="radio" name="flexRadioDefaultAssoalho" id="assoalhoEmendaS">
              <label class="form-check-label" for="assoalhoEmendaS">
                Sim
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefaultAssoalho" id="assoalhoEmendaN">
              <label class="form-check-label" for="assoalhoEmendaN">
                Não
              </label>
            </div>
          </div>
          <div class="col">
            <div class="col-auto">
              <label for="largassoalho" class="col-form-label">Assoalho</label>
            </div>
            <div class="col-auto">
              <input type="number" id="largassoalho" class="form-control" aria-describedby="passwordHelpInline" required placeholder="cm" min="0">
            </div>
            <div class="col-auto">
              <span id="passwordHelpInline" class="form-text">
                Largura do Assoalho
              </span>
            </div>
          </div>
          <div class="col">
            <div class="col-auto">
              <label for="compassoalho" class="col-form-label">Assoalho</label>
            </div>
            <div class="col-auto">
              <input type="number" id="compassoalho" class="form-control" aria-describedby="passwordHelpInline" required placeholder="cm" min="0">
            </div>
            <div class="col-auto">
              <span id="passwordHelpInline" class="form-text">
                Comprimento do Assoalho
              </span>
            </div>
          </div>
        </div>
        <!-- FIM ASSOALHO -->
        <hr>
        <!-- SERIGRAFIA -->
        <div class="row">
          <div class="col" style="padding-left: 90px; margin-top: 15px;">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="seripezinho">
              <label class="form-check-label" for="seripezinho">
                Serigrafia Pézinho
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="seritesteiro">
              <label class="form-check-label" for="seritesteiro">
                Serigrafia Base
              </label>
            </div>
          </div>
          <!-- EMBORCAÇÃO E AMARRAÇÃO -->
          <div class="col" style="padding-left: 90px; margin-top: 15px;">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="iemborcacao">
              <label class="form-check-label" for="iemborcacao">
                Emborcação
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="iamarracao">
              <label class="form-check-label" for="iamarracao">
                Amarração
              </label>
            </div>
          </div>
          <!-- EMENDA -->
          <div class="col">
            <p style="margin-bottom: 0px;">Contém emenda no toco? </p>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefaultToco" id="cxmontadas" onclick="aparecerCaixa()">
              <label class="form-check-label" for="cxmontadas">
                Sim
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefaultToco" id="cxmontadan" onclick="sumirCaixa()">
              <label class="form-check-label" for="cxmontadan">
                Não
              </label>
            </div>
            <div id="novacaixaform">
              <input type="number" placeholder="Quantidade de Emendas" id="cxmontAparecerCaixa" min="0" max="20" style="width: 200px;">
            </div>
          </div>
        </div>
        <!-- SERIGRAFIA -->
        <div class="d-grid gap-2 col-6 mx-auto">
          <button type="button" class="btn btn-outline-success" style="margin-top: 15px;" onclick="armazenar() , qtdhomens(), resumo()">Calcular</button>
        </div>
        <h1 id="resuminho"></h1>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

    <script>      
      
      let somaTotal
      let produtividade
      let somaTotalHomens
  
      var cxMontadaInput = document.getElementById('cxmontAparecerCaixa')

      //PEZINHO
      var tempoPezinho = 130
      var tempoPezinhoMaior = 200
      var tempoPezinhoSemScid = 100
      var pezinhoCm = window.document.getElementById('largpezinho')

      //ASSOALHO
      var tempoAssoalho = 100
      var tempoAssoalhoMaior = 200
      var assoalhoCm = document.getElementById('compassoalho');

      //SERIGRAFIA
      var tempoSerigrafiaPezinho = 200 
      var tempoSerigrafiaBase = 200
      var qtdHomemSerigrafia

      //AMARRAÇÃO
      var tempoAmarracao = 200

      //EMBORCAÇÃO
      var tempoEmborcacao = 200

      //BANHEIRO e CAFÉ
      var banheiro = 1000
      var cafe = 500

      //EMENDA
      var emenda = 45

      //Homem para emenda
      var qtdHomemEmenda

      function armazenar(){
        //PEZINHO
        var quantidadep = document.getElementById('qtdpezinho');
        var qtdpezinho = Number(quantidadep.value);
        var skid = document.getElementById('skid'); 
        var semSkid = document.getElementById('semskid');
        var somapezinho 
        if(qtdpezinho == 0){
          somapezinho = 0
        }else if(qtdpezinho >= 1 && skid.checked){
          somapezinho = qtdpezinho*tempoPezinho
        } else if(qtdpezinho>=1 && semSkid.checked){
          somapezinho = qtdpezinho*tempoPezinhoSemScid
        }
        console.log(`o tempo do pézinho incluso é: ${somapezinho}`);

        //ASSOALHO    
        var ass = Number(assoalhoCm.value)
        if(ass == 0){
            ass = 0
        } else if(ass<=240){
            if(ass<=100){
              ass = tempoAssoalho
            } else if(ass<=200){
              ass = ass*2
            }
        } else if(ass>250){
            if(ass>=200 && ass<=299){
              ass = tempoAssoalho * 4
            } else if(ass>=300 && ass<=399){
              ass = tempoAssoalho * 6
            } else if(ass>=400 && ass<=499){
              ass = tempoAssoalho * 8
            } else if(ass>=500 && ass<=599){
              ass = tempoAssoalho * 10
            } else if(ass>=600 && ass<=699){
              ass = tempoAssoalho * 12
            } else if(ass>=700 && ass<=799){
              ass = tempoAssoalho * 14
            } else if(ass>=800 && ass<=899){
              ass = tempoAssoalho * 16
            } else if(ass>=900 && ass<=999){
              ass = tempoAssoalho * 18
            } else if(ass>=1000 && ass<=1099){
              ass = tempoAssoalho * 20
            }
        }
        console.log(`O tempo armazenado para o assoalho foi de ${ass}.`);

        //SERIGRAFIA BASE
        var tempseritesteiro = document.getElementById('seritesteiro') //base
        if(tempseritesteiro.checked){
          tempseritesteiro = tempoSerigrafiaBase
          qtdHomemSerigrafia = 1
        } else{
          tempseritesteiro = 0
          qtdHomemSerigrafia = 0
        }
        console.log(`O tempo de Serigrafia Testeiro é: ${tempseritesteiro}.`);

        //SERIGRAFIA PÉZINHO
        var tempseripezinho = document.getElementById('seripezinho')
        if(tempseripezinho.checked){
          tempseripezinho = tempoSerigrafiaPezinho
          qtdHomemSerigrafia = 1
        } else{
          tempseripezinho = 0
          qtdHomemSerigrafia = 0
        }
        console.log(`O tempo de Serigrafia Pézinho é: ${tempseripezinho}.`);

        //TEMPO AMARRAÇÃO
        var tempAmarracao = document.getElementById('iamarracao')
        if(tempAmarracao.checked){
          tempAmarracao = tempoAmarracao
        } else{
          tempAmarracao = 0
        }
        console.log(`O tempo de Amarração é: ${tempAmarracao}.`);
        
        //TEMPO EMBORCAÇÃO
        var tempEmborcacao = document.getElementById('iemborcacao')
        if(tempEmborcacao.checked){
          tempEmborcacao = tempoEmborcacao
        } else{
          tempEmborcacao = 0
        }
        console.log(`O tempo de Emborcação é: ${tempEmborcacao}.`);

        //TEMPO EMENDA
        var tempoEmenda

        if(cxMontadaInput.value<=0){
          tempoEmenda = 0
          qtdHomemEmenda = 0
        } else if(cxMontadaInput.value>0){
          tempoEmenda = emenda * cxMontadaInput.value
          qtdHomemEmenda = 1
        }

        //NÃO SELECIONADO(EMENDA TOCO)
        var naoSelectToco = document.getElementById('cxmontadan')
        if(naoSelectToco.checked){
          tempoEmenda = 0
          qtdHomemEmenda = 0
        }
        console.log(`tempo emenda: ${tempoEmenda} e qtd H emenda: ${qtdHomemEmenda}.`)

        //DOBRANDO EMENDA ASSOALHO 
        var emendaAssoalho = document.getElementById('assoalhoEmendaS')
        if(emendaAssoalho.checked){
          ass = ass*2
        }
        console.log(`tempo assoalho com dobra: ${ass}`)
          

        somaTotal = tempEmborcacao + tempAmarracao + somapezinho + tempseripezinho + tempseritesteiro + ass + tempoEmenda
        somaTotalFinal = somaTotal * 0.2
        somaTotal += somaTotalFinal
        console.log(`O tempo de produção da embalagem é ${somaTotal}`)
      }

      function qtdhomens(){
        //qtd homens pézinho
        var qtdHpezinhostr = window.document.getElementById('qtdpezinho').value;
        var qtdHomensPezinho = Number(qtdHpezinhostr);
        if(qtdHomensPezinho <= 0){
          qtdHomensPezinho = 0
        } else{
          qtdHomensPezinho = 1
        }

        //qtd homens assoalho
        var compassoalhostr = window.document.getElementById('compassoalho').value;
        var compassoalho = Number(compassoalhostr);
        if(compassoalho <= 0){
          compassoalho = 0
        } else if(compassoalho<=90){
          compassoalho = 1
        } else {
          compassoalho = 2
        }

        //homem serigrafia
        if(qtdHomemSerigrafia>=1){
           qtdHomemSerigrafia = 1
        } else{
           qtdHomemSerigrafia = 0
        }

        somaTotalHomens = qtdHomensPezinho + compassoalho + qtdHomemSerigrafia + qtdHomemEmenda
        tempoDivididoPorHomens = somaTotal / somaTotalHomens
        produtividade = 48000 / tempoDivididoPorHomens
      } 

      function resumo(){
        document.getElementById('resuminho').innerHTML = `<strong>${somaTotalHomens} Homens / 8 Horas / Produtividade: ${Math.round(produtividade)}`

      }
      
      function aparecerCaixa(){
        cxMontadaInput.style.display = 'block'
      }

      function sumirCaixa(){
        cxMontadaInput.style.display = 'none'      
      }
    </script>
  </body>
</html>